@use "../abstracts" as a;

.sidebar {
  --ease: cubic-bezier(0.2, 0.7, 0.2, 1);
  --t-fast: 0.25s;
  --t-med: 0.35s;
  --t-vis: var(--t-med);

  @include a.clamp-size(width, 170, 285);
  position: fixed;
  z-index: 101;
  top: a.rem(100);
  bottom: a.rem(20);
  left: calc(50% - (clamp(a.rem(250), 90%, a.rem(1440)) / 2));
  transform: translateX(-100%);
  opacity: 0;
  overflow: auto;
  pointer-events: none;
  visibility: hidden;
  @include a.glassy;
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 255, 0.12),
    rgba(255, 255, 255, 0.05)
  );
  contain: layout paint;
  transition: transform var(--t-med) var(--ease),
    opacity var(--t-med) var(--ease), visibility 0s linear var(--t-vis);

  &__menu {
    min-height: 100%;
    padding: a.rem(20);
  }

  &__list {
    display: flex;
    flex-direction: column;
    gap: a.rem(10);
  }

  &__item button {
    width: 100%;
    padding: a.rem(10) a.rem(14);
    border-radius: a.rem(10);
    font-weight: 600;
    @include a.clamp-font(15, 25);
    line-height: 1.5;
    letter-spacing: 1px;
    transition: transform var(--t-fast) var(--ease),
      box-shadow var(--t-fast) var(--ease), color var(--t-fast) var(--ease),
      background var(--t-fast) var(--ease);
  }

  @media (hover: hover) {
    &__item button:is(:hover, :focus-visible) {
      background: linear-gradient(
        135deg,
        rgba(0, 200, 255, 0.15),
        rgba(0, 120, 255, 0.25)
      );
      box-shadow: 0 2px 10px rgba(0, 180, 255, 0.35);
      color: #4dd2ff;
      text-shadow: 0 0 6px rgba(0, 180, 255, 0.6);
      transform: scale(1.06);
      outline: none;
    }
  }
}

body.sidebar-open .sidebar {
  --t-vis: 0s;

  transform: translate3d(0, 0, 0);
  opacity: 1;
  pointer-events: auto;
  visibility: visible;
}
